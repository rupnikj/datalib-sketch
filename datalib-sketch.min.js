!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(n.dl||(n.dl={})).sketch=t()}}(function(){return function t(n,i,e){function r(h,s){if(!i[h]){if(!n[h]){var a="function"==typeof require&&require;if(!s&&a)return a(h,!0);if(o)return o(h,!0);var u=new Error("Cannot find module '"+h+"'");throw u.code="MODULE_NOT_FOUND",u}var f=i[h]={exports:{}};n[h][0].call(f.exports,function(t){var i=n[h][1][t];return r(i?i:t)},f,f.exports,t,n,i,e)}return i[h].exports}for(var o="function"==typeof require&&require,h=0;h<e.length;h++)r(e[h]);return r}({1:[function(t,n,i){n.exports={Bloom:t("./bloom"),CountMin:t("./count-min"),CountMeanMin:t("./count-mean-min")}},{"./bloom":2,"./count-mean-min":3,"./count-min":4}],2:[function(t,n,i){function e(t,n){t=t||s,n=n||a;var i;"number"!=typeof t&&(i=t,t=32*i.length);var e,r=Math.ceil(t/32),u=-1;if(this._w=t=32*r,this._d=n,h){if(e=this._buckets=new Int32Array(r),i)for(;++u<r;)e[u]=i[u]}else if(e=this._buckets=[],i)for(;++u<r;)e[u]=i[u];else for(;++u<r;)e[u]=0;o.init.call(this)}function r(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}var o=t("./hash"),h="undefined"!=typeof ArrayBuffer,s=8388608,a=5;e.create=function(t,n){var i=-t*Math.log(n)/(Math.LN2*Math.LN2),r=i/t*Math.LN2;return new e(~~i,~~r)},e["import"]=function(t){return new e(t.bits,t.depth)};var u=e.prototype;u.locations=o.locations,u.add=function(t){for(var n=this.locations(t+""),i=-1,e=this._d,r=this._buckets;++i<e;)r[Math.floor(n[i]/32)]|=1<<n[i]%32},u.query=function(t){for(var n,i=this.locations(t+""),e=-1,r=this._d,o=this._buckets;++e<r;)if(n=i[e],0===(o[Math.floor(n/32)]&1<<n%32))return!1;return!0},u.size=function(){var t,n,i=this._buckets,e=0;for(t=0,n=i.length;n>t;++t)e+=r(i[t]);return-this._w*Math.log(1-e/this._w)/this._d},u.union=function(t){if(t._w!==this._w)throw"Filter widths do not match.";if(t._d!==this._d)throw"Filter depths do not match.";var n,i=this._buckets,r=t._buckets,o=i.length,s=h?new Int32Array(o):Array(o);for(n=0;o>n;++n)s[n]=i[n]|r[n];return new e(s,this._d)},u.jaccard=function(t){if(t._w!==this._w)throw"Filter widths do not match.";if(t._d!==this._d)throw"Filter depths do not match.";var n,i,e,o,h=this._buckets,s=t._buckets,a=h.length;for(o=n=i=e=0;a>o;++o)n+=r(h[o]),i+=r(s[o]),e+=r(h[o]|s[o]);return n=Math.log(1-n/this._w),i=Math.log(1-i/this._w),e=Math.log(1-e/this._w),(n+i)/e-1},u["export"]=function(){return{depth:this._d,bits:[].slice.call(this._buckets)}},n.exports=e},{"./hash":5}],3:[function(t,n,i){function e(t,n,i){h.call(this,t,n,i),this._q=Array(n)}function r(t){t.sort(o);var n=t.length,i=~~(n/2);return n%2?t[i]:.5*(t[i-1]+t[i])}function o(t,n){return t-n}var h=t("./count-min");e.create=h.create,e["import"]=h["import"];var s=e.prototype=Object.create(h.prototype);s.query=function(t){var n,i,e,o=this.locations(t+""),h=this._table,s=this._q,a=this._w,u=this._d,f=this._num,c=1/(a-1),l=+(1/0);for(i=0,e=0;u>i;++i,e+=a)n=h[e+o[i]],l>n&&(l=n),n-=(f-n)*c,s[i]=n;return(n=r(s))<0?0:n>l?l:n},s.dot=function(t){if(this._w!==t._w)throw"Sketch widths do not match.";if(this._d!==t._d)throw"Sketch depths do not match.";var n=this._table,i=t._table,e=this._q,o=this._w,h=this._num,s=this._d*o,a=(o-1)/o,u=1/(o-1),f=0,c=0;do f+=(n[c]-(h-n[c])*u)*(i[c]-(h-i[c])*u),++c%o===0&&(e[c/o-1]=a*f,f=0);while(s>c);return(f=r(e))<0?0:f},n.exports=e},{"./count-min":4}],4:[function(t,n,i){function e(t,n,i){t=t||h,n=n||s;var e,a,u,f=-1;if("number"!=typeof t&&(e=t,t=e.length/n),this._w=t,this._d=n,this._num=i||0,u=t*n,o){if(a=this._table=new Int32Array(u),e)for(;++f<u;)a[f]=e[f]}else{if(a=this._table=Array(u),e)for(;++f<u;)a[f]=e[f];for(;++f<u;)a[f]=0}r.init.call(this)}var r=t("./hash"),o="undefined"!=typeof ArrayBuffer,h=27191,s=9;e.create=function(t,n,i){n=t?n?n/t:1/t:.001,i=i||.001;var e=Math.ceil(Math.E/n),r=Math.ceil(-Math.log(i));return new this(e,r)},e["import"]=function(t){return new this(t.counts,t.depth,t.num)};var a=e.prototype;a.locations=r.locations,a.add=function(t){var n,i,e=this.locations(t+""),r=this._table,o=this._w,h=this._d;for(n=0,i=0;h>n;++n,i+=o)r[i+e[n]]+=1;this._num+=1},a.query=function(t){var n,i,e,r=+(1/0),o=this.locations(t+""),h=this._table,s=this._w,a=this._d;for(n=0,i=0;a>n;++n,i+=s)e=h[i+o[n]],r>e&&(r=e);return r},a.dot=function(t){if(this._w!==t._w)throw"Sketch widths do not match.";if(this._d!==t._d)throw"Sketch depths do not match.";var n=this._table,i=t._table,e=this._w,r=this._d*e,o=+(1/0),h=0,s=0;do h+=n[s]*i[s],++s%e===0&&(o>h&&(o=h),h=0);while(r>s);return o},a["export"]=function(){return{num:this._num,depth:this._d,counts:[].slice.call(this._table)}},n.exports=e},{"./hash":5}],5:[function(t,n,i){function e(t){for(var n,i,e=t.length,r=2166136261,o=-1;++o<e;)n=t.charCodeAt(o),(i=4278190080&n)&&(r^=i>>24,r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24)),(i=16711680&n)&&(r^=i>>16,r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24)),(i=65280&n)&&(r^=i>>8,r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24)),r^=255&n,r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24);return r+=r<<13,r^=r>>7,r+=r<<3,r^=r>>17,r+=r<<5,4294967295&r}function r(t){return t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t+=t<<13,t^=t>>7,t+=t<<3,t^=t>>17,t+=t<<5,4294967295&t}var o="undefined"!=typeof ArrayBuffer;n.exports.init=function(){var t=this._d,n=this._w;if(o){var i=1<<Math.ceil(Math.log(Math.ceil(Math.log(n)/Math.LN2/8))/Math.LN2),e=1===i?Uint8Array:2===i?Uint16Array:Uint32Array,r=new ArrayBuffer(i*t);this._locations=new e(r)}else this._locations=[]},n.exports.locations=function(t){for(var n=this._d,i=this._w,o=this._locations,h=e(t),s=r(h),a=-1,u=h%i;++a<n;)o[a]=0>u?u+i:u,u=(u+s)%i;return o},n.exports.fnv_1a=e,n.exports.fnv_1a_b=r},{}]},{},[1])(1)});