!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(i.dl||(i.dl={})).sketch=t()}}(function(){return function t(i,n,e){function o(h,s){if(!n[h]){if(!i[h]){var a="function"==typeof require&&require;if(!s&&a)return a(h,!0);if(r)return r(h,!0);var f=new Error("Cannot find module '"+h+"'");throw f.code="MODULE_NOT_FOUND",f}var u=n[h]={exports:{}};i[h][0].call(u.exports,function(t){var n=i[h][1][t];return o(n?n:t)},u,u.exports,t,i,n,e)}return n[h].exports}for(var r="function"==typeof require&&require,h=0;h<e.length;h++)o(e[h]);return o}({1:[function(t,i,n){i.exports={bloom:t("./bloom"),countmin:t("./count-min"),countmeanmin:t("./count-mean-min")}},{"./bloom":2,"./count-mean-min":3,"./count-min":4}],2:[function(t,i,n){function e(t,i){t=t||s,i=i||a;var n;"number"!=typeof t&&(n=t,t=32*n.length);var e,o=Math.ceil(t/32),f=-1;if(this._w=t=32*o,this._d=i,h){if(e=this._buckets=new Int32Array(o),n)for(;++f<o;)e[f]=n[f]}else if(e=this._buckets=[],n)for(;++f<o;)e[f]=n[f];else for(;++f<o;)e[f]=0;r.init.call(this)}function o(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}var r=t("./hash"),h="undefined"!=typeof ArrayBuffer,s=65536,a=3,f=e.prototype;f.locations=r.locations,f.add=function(t){for(var i=this.locations(t+""),n=-1,e=this._d,o=this._buckets;++n<e;)o[Math.floor(i[n]/32)]|=1<<i[n]%32},f.query=function(t){for(var i,n=this.locations(t+""),e=-1,o=this._d,r=this._buckets;++e<o;)if(i=n[e],0===(r[Math.floor(i/32)]&1<<i%32))return!1;return!0},f.size=function(){var t,i,n=this._buckets,e=0;for(t=0,i=n.length;i>t;++t)e+=o(n[t]);return-this._w*Math.log(1-e/this._w)/this._d},f.union=function(t){if(t._w!==this._w)throw"Filter widths do not match.";if(t._d!==this._d)throw"Filter depths do not match.";var i,n=this._buckets,o=t._buckets,r=n.length,s=h?new Int32Array(r):Array(r);for(i=0;r>i;++i)s[i]=n[i]|o[i];return new e(s,this._d)},f.jaccard=function(t){if(t._w!==this._w)throw"Filter widths do not match.";if(t._d!==this._d)throw"Filter depths do not match.";var i,n,e,r,h=this._buckets,s=t._buckets,a=h.length;for(r=i=n=e=0;a>r;++r)i+=o(h[r]),n+=o(s[r]),e+=o(h[r]|s[r]);return i=Math.log(1-i/this._w),n=Math.log(1-n/this._w),e=Math.log(1-e/this._w),(i+n)/e-1},f["import"]=function(t){return new e(t.bits,t.depth)},f["export"]=function(){return{depth:this._d,bits:[].slice.call(this._buckets)}},i.exports=e},{"./hash":5}],3:[function(t,i,n){function e(t,i){h.call(this,t,i),this._q=Array(i)}function o(t){t.sort(r);var i=t.length,n=~~(i/2);return i%2?t[n]:.5*(t[n-1]+t[n])}function r(t,i){return t-i}var h=t("./count-min");e.create=h.create;var s=e.prototype=Object.create(h.prototype);s.query=function(t){var i,n,e,r=this.locations(t),h=this._table,s=this._q,a=this._w,f=this._d,u=this._num,c=1/(a-1),l=+(1/0);for(n=0,e=0;f>n;++n,e+=a)i=h[e+r[n]],l>i&&(l=i),i-=(u-i)*c,s[n]=i;return(i=o(s))<0?0:i>l?l:i},s.dot=function(t){if(this._w!==t._w)throw"Sketch widths do not match.";if(this._d!==t._d)throw"Sketch depths do not match.";var i=this._table,n=t._table,e=this._q,r=this._w,h=this._num,s=this._d*r,a=(r-1)/r,f=1/(r-1),u=0,c=0;do u+=(i[c]-(h-i[c])*f)*(n[c]-(h-n[c])*f),++c%r===0&&(e[c/r-1]=a*u,u=0);while(s>c);return(u=o(e))<0?0:u},i.exports=e},{"./count-min":4}],4:[function(t,i,n){function e(t,i){if(this._w=t||h,this._d=i||s,this._num=0,r)this._table=new Int32Array(i*t);else{var n=-1,e=i*t;for(this._table=Array(e);++n<e;)this._table[n]=0}o.init.call(this)}var o=t("./hash"),r="undefined"!=typeof ArrayBuffer,h=1021,s=3;e.create=function(t,i){t=t||.1,i=i||1e-4;var n=0|Math.ceil(-Math.log(i)),e=0|Math.ceil(Math.E/t);return new this(e,n)};var a=e.prototype;a.locations=o.locations,a.add=function(t){var i,n=this.locations(t),e=this._table,o=this._w,r=this._d;for(i=0;r>i;++i)e[i*o+n[i]]+=1;this._num+=1},a.query=function(t){var i,n,e,o=+(1/0),r=this.locations(t),h=this._table,s=this._w,a=this._d;for(i=0,n=0;a>i;++i,n+=s)e=h[n+r[i]],o>e&&(o=e);return o},a.dot=function(t){if(this._w!==t._w)throw"Sketch widths do not match.";if(this._d!==t._d)throw"Sketch depths do not match.";var i=this._table,n=t._table,e=this._w,o=this._d*e,r=+(1/0),h=0,s=0;do h+=i[s]*n[s],++s%e===0&&(r>h&&(r=h),h=0);while(o>s);return r},i.exports=e},{"./hash":5}],5:[function(t,i,n){function e(t){for(var i,n,e=t.length,o=2166136261,r=-1;++r<e;)i=t.charCodeAt(r),(n=4278190080&i)&&(o^=n>>24,o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24)),(n=16711680&i)&&(o^=n>>16,o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24)),(n=65280&i)&&(o^=n>>8,o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24)),o^=255&i,o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);return o+=o<<13,o^=o>>7,o+=o<<3,o^=o>>17,o+=o<<5,4294967295&o}function o(t){return t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t+=t<<13,t^=t>>7,t+=t<<3,t^=t>>17,t+=t<<5,4294967295&t}var r="undefined"!=typeof ArrayBuffer;i.exports.init=function(){var t=this._d,i=this._w;if(r){var n=1<<Math.ceil(Math.log(Math.ceil(Math.log(i)/Math.LN2/8))/Math.LN2),e=1===n?Uint8Array:2===n?Uint16Array:Uint32Array,o=new ArrayBuffer(n*t);this._locations=new e(o)}else this._locations=[]},i.exports.locations=function(t){for(var i=this._d,n=this._w,r=this._locations,h=e(t),s=o(h),a=-1,f=h%n;++a<i;)r[a]=0>f?f+n:f,f=(f+s)%n;return r},i.exports.fnv_1a=e,i.exports.fnv_1a_b=o},{}]},{},[1])(1)});